<!DOCTYPE html>
<html lang="en" id="html">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="The Biodiversity Literature Repository Explorer">
    <meta name="version" content="3.0">
    <meta name="author" content="Puneet Kishor">
    <meta name="copyright" content="CC0 Public Domain Dedication">
    
    <title>ocellus^3</title>
    
    <link rel="icon" type="image/png" href="img/ocellus.png">

    <link rel="stylesheet" href="Skeleton-2.0.4/css/normalize-7.0.0.min.css">
    <link rel="stylesheet" href="Skeleton-2.0.4/css/skeleton.min.css">
    <link rel="stylesheet" href="JavaScript-autoComplete/auto-complete.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.4.0/dist/leaflet.css" integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA==" crossorigin=""/>
    <!-- <link rel="stylesheet" href="blr/fancysearch/fancysearch.css"> -->
    <link rel="stylesheet" href="blr/css/ocellus.css">
    <link rel="stylesheet" href="blr/css/ocellus-about.css">
    <link rel="stylesheet" href="blr/css/ocellus-communities-select-boxes.css">
    <link rel="stylesheet" href="blr/css/ocellus-throbber.css">
    <link rel="stylesheet" href="blr/css/ocellus-taxon-tree.css">
    <link rel="stylesheet" href="blr/css/ocellus-xml.css">
</head>
<body>

<header>
    <div class="container">
        <div class="row">
            <div class="two columns">
                <div class="title">
                    <a href="/index2.html" class="main-title">Ocellus<sup>3</sup></a><br>
                    <a id="about-link" class="sub-title msg">about</a>
                </div>
            </div>
            
            <form class="ten columns" name="simpleSearch" id="ssForm" method="GET">

                <div class="searchContainer">

                    <nav id="resourceSelector">
                        
                        <label for="resource-treatments" class="searchFocus">treatments</label>
                        <input id="resource-treatments" class="urlFlag" type="radio" name="resource" value="treatments" checked=true>

                        <label for="resource-images">images</label>
                        <input id="resource-images" class="urlFlag" type="radio" name="resource" value="images">
                        
                    </nav>

                    <div id="sSearch" class="searchWidget">

                        <div class="drop-down">

                            <div class="arrow-down" data-tooltip="choose a community">•••</div>
                            <div class="communities">
                                <div class="switches">
                                    <input class="urlFlag switch" type="checkbox" id="switch1" name="communities" value="all communities">
                                    <label for="switch1">all communities</label>
                                </div>
                                
                                <div class="switches">
                                    <input class="urlFlag" type="checkbox" id="switch2" name="communities" value="biosyslit" checked=true>
                                    <label for="switch2">biosyslit</label>
                                </div>
                                
                                <div class="switches">	
                                    <input class="urlFlag" type="checkbox" id="switch3" name="communities" value="belgiumherbarium">
                                    <label for="switch3">belgiumherbarium</label>
                                </div>

                            </div>

                        </div>
                        
                        <div class="searchInputs">
                            <input type="hidden" name="page" value="1">
                            <input type="hidden" name="size" value="30">
                            <input type="hidden" name="id" value="0">
                            <input id="q" name="q" type="text" required placeholder="search for something">
                            <input class="urlFlag" type="checkbox" name="refreshCache" value="">
                        </div>

                        <button id="ssGo" name="simpleSearch" class="searchButton">go</button>

                        <div id="fSearch" class="off-none"></div>
                        <div class="searchChooser">
                            <a id="searchChooser" href="">switch to fancy search</a>
                        </div>
                    </div>
                </div>
            </form>
            
        </div>
    </div>
</header>
<div id="throbber" class="throbber throbber-off"></div>

<div id="main" class="container">
    <div class="row">
        <div class="twelve columns">
            <div id="refreshCacheWarning" class="u-cf off-none">This will refresh the cache; you probably don‘t want this.</div>

            <div id="about">
                <a id="about-close">close</a>
                <div id="about-text">
                    <p>Ocellus is a frontend to the Biodiversity Literature Repository (BLR) with more than 180K images on <a href="https://zenodo.org" target="_blank">Zenodo</a>, 200K taxonomic treatments in <a href="http://treatmentbank.org" target="_blank">TreatmentBank</a>, and 800,000 citations on <a href="https://refbank.org" target="_blank">RefBank</a>. Ocellus depends on <a href="http://zenodeo.punkish.org" target="_blank">Zenodeo</a>, a <code>nodejs</code> API that queries, analyzes and aggregates results from these various repositories via a single, unified interface. Start typing in the search field and Ocellus will suggest from > 5100 taxonomic familes, or choose the fancy search interface to create more granular queries – Ocellus will retrieve the results for you.</p>
        
                    <p>For copyright information in the images, please consult the original record on Zenodo, BLR policies, and the applicable laws of your country. The half-fish in the footer is based on the original of a Blunt-Nosed Minnow, <i>Pimephales notatus</i> (Rafinesque) ♂ from the <a href="https://archive.org/stream/cu31924090292669/#page/n1063/mode/1up">Internet Archive</a> and has no known copyright restrictions. Please contact <a href="mailto:blr@plazi.org">Plazi</a> for more information or to provide feedback.</p>
                </div>
            </div>

            <div id="wrapper"></div>
            <div id="carouselContainer">
                <div id="carousel"></div>
            </div>

        </div>
    </div>
</div>

<footer id="footer">
    <img src="blr/img/fish.jpg">
</footer>

<script id="templatePager" type="x-tmpl-mustache">
    {{#pager}}
    <div id="pager">
        ◀ <a href="{{prev}}" id="prev" class="pager">prev</a> 
        <a href="{{next}}" id="next" class="pager">next</a> ▶
    </div>
    {{/pager}}
</script>

<script id="templateWidget" type="x-tmpl-mustache">
    <div class="widget">
        <div id="status" class="status"></div>
        <button id="toggle-{{recId}}" class="report">r</button>
        <form>
            <input type="text" class="imageReport" placeholder="enter report here">
            <input type="hidden" name="recId" value="{{recId}}">
            <button id="submit-{{recId}}" class="submit">send</button>
            <button id="cancel-{{recId}}" class="cancel">cancel</button>
        </form>
    </div>
</script>

<!-- template for the masonry wall of images -->
<script id="templateMasonry" type="x-tmpl-mustache">
    <h3>{{recordsFound}} records found</h3>
    
    <div id="masonry" class="masonry">
        {{#figures}}
        <figure class="item">
            <a href="#carousel" class="carousel"><img src="{{imgBlur}}" width="250" data-src="{{imgA}}" class="lazyload" data-recid="{{recId}}"></a>
            
            <figcaption class="transition-050 opacity85 text">
                <a class="transition-050">rec ID: {{recId}}</a>
                <div class="transition-050 desc">{{title}}. <a href='{{zenodoRecord}}' target='_blank'>more</a></div>
            </figcaption>
        </figure>
        {{/figures}}
    </div>
    
    {{> templatePager}}
</script>

<!-- template for the vertical carousel -->
<script id="templateCarousel" type="x-tmpl-mustache">    
    {{#figures}}
    <figure id="{{recId}}" class="image-wrapper">
        <div class="carouselOff">x</div>
        <a href="{{imageSrc}}" target="_blank">
            <img src="{{imgA}}" data-src="{{imgC}}"  class="lazyload" alt="{{title}}" data-recid="{{recId}}"></a>
        <figcaption>
            <a class="transition-050">rec ID: {{recId}}</a>
            <div class="transition-050 desc">{{title}}. <a href='{{zenodoRecord}}' target='_blank'>more</a></div>
        </figcaption>
    </figure>
    {{/figures}}
</script>

<!-- template for fulltext search of treatments -->
<script id="templateTreatmentsFTSWithThumbnail" type="x-tmpl-mustache">
    <h3>{{recordsFound}} records found. {{from}} to {{to}} shown below…</h3>

    {{#treatments}}
    <details open>
        <summary>{{treatmentTitle}}</summary>
        
        <div class='masonry'>
            {{#images}}
            <a href="#carousel" class="carousel"><img src="{{thumb50}}" width="50" alt=""></a> 
            {{/images}}
        </div>
        
        <p>{{{s}}} <a class="treatmentLink" href="/index2.html?resource=treatments&treatmentId={{treatmentId}}">more</a></p>
    </details>
    {{/treatments}}
</script>

<!-- template for fulltext search of treatments -->
<script id="templateTreatmentsFTS" type="x-tmpl-mustache">
    <h3>{{recordsFound}} records found. {{from}} to {{to}} shown below…</h3>

    {{#treatments}}
    <details open>
        <summary>{{treatmentTitle}}</summary>
        
        <p>{{{s}}} <a class="treatmentLink" href="/index2.html?resource=treatments&treatmentId={{treatmentId}}">more</a></p>
    </details>
    {{/treatments}}

    {{> templatePager}}
</script>

<!-- template for a single treatment -->
<script id="templateTreatment" type="x-tmpl-mustache">
    <div class="treatment">
        <h1>{{treatmentTitle}}</h1>
        <ul class="pids">
            <li class="treatmentId">Treatment ID: <a href="https://zenodeo.punkish.org/v2/treatments?treatmentId={{treatmentId}}&format=xml" target="_blank">{{treatmentId}}</a> <span class="xml-marker">&lt;xml&gt;</span></li>
            <li class="doi">DOI: <a href="{{doi}}" target="_blank">{{doi}}</a></li>
            <li class="zenodoDep">Zenodo deposit: <a href="https://www.zenodo.org/record/{{zenodoDep}}" target="_blank">{{zenodoDep}}</a></li>
        </ul>
        
        <p class="journal">{{journalTitle}}, {{journalYear}}, pages {{pages}}, Vol. {{journalVolume}}, Issue {{journalIssue}}</p>

        <ul class="classification">
            {{#taxonStats}}
            <li class="kingdom">
                <div class="txn">
                    <a class="treatmentLink" href="/index2.html?resource=treatments&kingdom={{kingdom.qryObj.kingdom}}">{{kingdom.qryObj.kingdom}}</a> [{{kingdom.num.num}}]
                </div>
            </li>
            <li class="phylum">
                <div class="txn">
                    <a class="treatmentLink" href="/index2.html?resource=treatments&kingdom={{phylum.qryObj.kingdom}}&phylum={{phylum.qryObj.phylum}}">{{phylum.qryObj.phylum}}</a> [{{phylum.num.num}}]
                </div>
            </li>
            <li class="order">
                <div class="txn">
                    <a class="treatmentLink" href="/index2.html?resource=treatments&kingdom={{order.qryObj.kingdom}}&phylum={{order.qryObj.phylum}}&order={{order.qryObj.order}}">{{order.qryObj.order}}</a> [{{order.num.num}}]
                </div>
            </li>
            <li class="family">
                <div class="txn">
                    <a class="treatmentLink" href="/index2.html?resource=treatments&kingdom={{family.qryObj.kingdom}}&phylum={{family.qryObj.phylum}}&order={{family.qryObj.order}}&family={{family.qryObj.family}}">{{family.qryObj.family}}</a> [{{family.num.num}}]
                </div>
            </li>
            <li class="genus">
                <div class="txn">
                    <a class="treatmentLink" href="/index2.html?resource=treatments&kingdom={{genus.qryObj.kingdom}}&phylum={{genus.qryObj.phylum}}&order={{genus.qryObj.order}}&family={{genus.qryObj.family}}&genus={{genus.qryObj.genus}}">{{genus.qryObj.genus}}</a> [{{genus.num.num}}]
                </div>
            </li>
            <li class="species">
                <div class="txn">
                    <a class="treatmentLink" href="/index2.html?resource=treatments&kingdom={{species.qryObj.kingdom}}&phylum={{species.qryObj.phylum}}&order={{species.qryObj.order}}&family={{species.qryObj.family}}&genus={{species.qryObj.genus}}&species={{species.qryObj.species}}">{{species.qryObj.species}}</a> [{{species.num.num}}]
                </div>
            </li>
            {{/taxonStats}}
        </ul>

        <div id="map"></div>

        <div id="masonry" class="masonry">
            {{#figures}}
            <figure class='item'>
         
                <div class="widget">
                    <div id='status' class='status'></div>
                    <button id="toggle-{{recId}}" class="report">r</button>
                    <form>
                        <input type="text" class="imageReport" placeholder="enter report here">
                        <input type="hidden" name="recId" value="{{recId}}">
                        <button id="submit-{{recId}}" class="submit">send</button>
                        <button id="cancel-{{recId}}" class="cancel">cancel</button>
                    </form>
                </div>
         
                <a href="#carousel" class="carousel"><img src="{{imgBlur}}" width="250" data-src="{{imgA}}" class="lazyload" data-recid="{{recId}}"></a>
                
                <figcaption class="transition-050 opacity85 text">
                    <a class="transition-050">rec ID: {{recId}}</a>
                    <div class="transition-050 desc">{{title}}. <a href='{{zenodoRecord}}' target='_blank'>more</a></div>
                </figcaption>
            </figure>
            {{/figures}}
        </div>

        <p class="xml">{{{xml}}}</p>
    </div>
</script>

<!-- <script src="blr/js/cookies.js"></script> -->
<script src="js/lazysizes.min.js"></script>
<script src="js/mustache.min.js"></script>
<script src="JavaScript-autoComplete/auto-complete.min.js"></script>
<script src="https://unpkg.com/leaflet@1.4.0/dist/leaflet.js" integrity="sha512-QVftwZFqvtRNi0ZyCtsznlKSWOStnDORoefr1enyq5mVL4tmKB3S/EnC3rRJcxCPavG10IcrVGSmPh6Qw5lwrg==" crossorigin=""></script>
<script src="blr/js/config.js"></script>
<script src="blr/js/ocellus.js"></script>
</body>
</html>